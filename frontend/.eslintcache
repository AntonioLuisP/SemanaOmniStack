[{"D:\\Projetos\\GITHUB\\JAVASCRIPT\\SemanaOmniStack\\frontend\\src\\routes.js":"1","D:\\Projetos\\GITHUB\\JAVASCRIPT\\SemanaOmniStack\\frontend\\src\\pages\\NewIncident\\index.js":"2","D:\\Projetos\\GITHUB\\JAVASCRIPT\\SemanaOmniStack\\frontend\\src\\pages\\Register\\index.js":"3","D:\\Projetos\\GITHUB\\JAVASCRIPT\\SemanaOmniStack\\frontend\\src\\pages\\Logon\\index.js":"4","D:\\Projetos\\GITHUB\\JAVASCRIPT\\SemanaOmniStack\\frontend\\src\\pages\\Profile\\index.js":"5","D:\\Projetos\\GITHUB\\JAVASCRIPT\\SemanaOmniStack\\frontend\\src\\pages\\Index\\index.js":"6"},{"size":769,"mtime":1619912289607,"results":"7","hashOfConfig":"8"},{"size":2028,"mtime":1609800333463,"results":"9","hashOfConfig":"8"},{"size":2522,"mtime":1609795930599,"results":"10","hashOfConfig":"8"},{"size":1432,"mtime":1609796380375,"results":"11","hashOfConfig":"8"},{"size":2233,"mtime":1619912182296,"results":"12","hashOfConfig":"8"},{"size":2325,"mtime":1619912498279,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"ln4u4m",{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26"},"D:\\Projetos\\GITHUB\\JAVASCRIPT\\SemanaOmniStack\\frontend\\src\\routes.js",[],"D:\\Projetos\\GITHUB\\JAVASCRIPT\\SemanaOmniStack\\frontend\\src\\pages\\NewIncident\\index.js",[],"D:\\Projetos\\GITHUB\\JAVASCRIPT\\SemanaOmniStack\\frontend\\src\\pages\\Register\\index.js",[],"D:\\Projetos\\GITHUB\\JAVASCRIPT\\SemanaOmniStack\\frontend\\src\\pages\\Logon\\index.js",[],"D:\\Projetos\\GITHUB\\JAVASCRIPT\\SemanaOmniStack\\frontend\\src\\pages\\Profile\\index.js",[],"D:\\Projetos\\GITHUB\\JAVASCRIPT\\SemanaOmniStack\\frontend\\src\\pages\\Index\\index.js",["27","28"],"import React, { useEffect, useState } from 'react';\r\nimport { Link, useHistory, useLocation } from 'react-router-dom';\r\nimport { FiPower, FiTrash2 } from 'react-icons/fi';\r\n\r\nimport api from \"../../services/api\"\r\nimport './styles.css';\r\nimport logoImg from '../../assets/logo.svg';\r\n\r\nexport default function Index() {\r\n  const [incidents, setIncidents] = useState([])\r\n  const ongName = localStorage.getItem('ongName');\r\n  const ongId = localStorage.getItem('ongId');\r\n  const queryUrl = useLocation().search\r\n  const [url, setUrl] = useState(queryUrl)\r\n\r\n  const history = useHistory()\r\n  useEffect(() => {\r\n    api.get('incidents' + url, {\r\n      headers: {\r\n        Authorization: ongId\r\n      }\r\n    }).then(response => {\r\n      setIncidents(response.data)\r\n    })\r\n  }, [ongId]);\r\n\r\n  async function handleDeleteIncident(id) {\r\n    try {\r\n      await api.delete('incidents/' + id, {\r\n        headers: {\r\n          Authorization: ongId\r\n        }\r\n      })\r\n      setIncidents(incidents.filter(incident => incident.id !== id))\r\n    } catch (error) {\r\n      alert(\"Erro ao deletar o caso, tente novamente\")\r\n    }\r\n  }\r\n\r\n  function handleLogout() {\r\n    localStorage.clear()\r\n    history.push('/')\r\n  }\r\n\r\n  return (\r\n    <div className=\"profile-container\">\r\n      <header className=\"form\">\r\n        <img src={logoImg} alt=\"be the hero\" />\r\n        <span>Bem vinda, {ongName}</span>\r\n\r\n        <Link className=\"button\" to=\"/incidents/new\">Cadastrar novo caso</Link>\r\n        <button onClick={handleLogout} type='button'>\r\n          <FiPower size=\"18\" color=\"#E02041\" />\r\n        </button>\r\n      </header>\r\n      <h1>Casos Cadastrados</h1>\r\n      <ul>\r\n        {\r\n          incidents.map(incident => (\r\n            <li key={incident.id}>\r\n              <strong>Caso:</strong>\r\n              <p>{incident.title} {incident.id}</p>\r\n              <strong>Descrição:</strong>\r\n              <p>{incident.description}</p>\r\n              <strong>Valor:</strong>\r\n              <p>{Intl.NumberFormat('pt-BR', { style: 'currency', currency: \"BRL\" }).format(incident.value)}</p>\r\n              <button onClick={() => handleDeleteIncident(incident.id)} type=\"button\">\r\n                <FiTrash2 size=\"20\" color=\"#a8a8b3\" />\r\n              </button>\r\n            </li>\r\n          ))\r\n        }\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n",{"ruleId":"29","severity":1,"message":"30","line":14,"column":15,"nodeType":"31","messageId":"32","endLine":14,"endColumn":21},{"ruleId":"33","severity":1,"message":"34","line":25,"column":6,"nodeType":"35","endLine":25,"endColumn":13,"suggestions":"36"},"no-unused-vars","'setUrl' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'url'. Either include it or remove the dependency array.","ArrayExpression",["37"],{"desc":"38","fix":"39"},"Update the dependencies array to be: [ongId, url]",{"range":"40","text":"41"},[776,783],"[ongId, url]"]